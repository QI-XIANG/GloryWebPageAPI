"use strict";!function(e){e.paging=function(t,n,a){var r,i,l,o,s,u,f=this,g=a,p=function(t){if(h(t=t||1)){var a,l,s=n.number_of_items,g=f.$el.find("ul.pager");if(n.onBeforeEveryDraw(f,g),o=t,l=parseInt(t*s),a=parseInt(l-s),!0!==n.animate){i.html("").css("visibility","visible");for(var p=a;p<l;p++)i.append(r.eq(p))}else i.children().fadeOut(function(){i.html("").css("visibility","visible");for(var t=a;t<l;t++)i.append(r.eq(t));i.children().each(function(t){e(this).fadeIn(200*t)})});u||(g&&g.length?g.replaceWith(x(n.pagination_type)):i.after(x(n.pagination_type)),g=f.$el.find("ul.pager")),c()&&(e(".first, .prev",g).attr("disabled","disabled"),e(".prev").attr("data-target","prev"),n.onFirstPage(f,g)),e(".page_"+t,g).attr("disabled","disabled"),d()&&(e(".next, .last",g).attr("disabled","disabled"),e(".next").attr("data-target","next"),n.onLastPage(f,g)),n.onAfterEveryDraw(f,g)}},c=function(){return 1===o},d=function(){return o===l},h=function(e){return!(e<1||e>l)},v=function(e){u||(e[0].removeEventListener("click",b,!1),e[0].removeEventListener("keyup",b,!1),e[0].addEventListener("click",b,!1),e[0].addEventListener("keyup",b,!1))},b=function(t){var n,a=e(t.target);"BUTTON"==t.target.nodeName&&a.parents(".pager").length&&(("keydown"==t.type&&13==t.keyCode||"click"==t.type)&&(n=a.hasClass("next")?o+1:a.hasClass("prev")?o-1:a.hasClass("last")?f.getTotalPages():a.hasClass("first")?1:parseInt(a.text()),p(n),a.focus()))},_=function(e){return""},m=function(e){return""},y=function(e){return'<a href="#wrapper"><button class="prev" type="button">'+(e||"上一頁")+"</button></a>"},P=function(e){return'<a href="#wrapper"><button class="next" type="button">'+(e||"下一頁")+"</button></a>"},w=function(e){return'<a href="#wrapper"><button type="button" class="page_'+e+'">'+e+"</button></a>"},x=function(e){var t,a=k(o),r=n.theme;switch(e){case"prev_next":t='<ul class="pager pager_'+g+" "+r+'"><li>'+y()+"</li><li>"+P()+"</li></ul>";break;case"first_prev_next_last":t='<ul class="pager pager_'+g+" "+r+'"><li>'+_()+'</li><li style="margin-left:0 !important;">'+y()+'</li><li style="margin-left:0 !important;">'+P()+"</li><li>"+m()+"</li></ul>";break;default:t='<ul class="pager pager_'+g+" "+r+'"><li>'+_()+"</li><li>"+y()+"</li>";for(var i=0;i<a.length;i++)t+="<li>"+w(a[i])+"</li>";t+="<li>"+P()+"</li><li>"+m()+"</li></ul>"}return t},k=function(e){var t=n.number_of_page_buttons,a=l,r=[],i=e||1;if(a<t)for(var o=1;o<=a;o++)r.push(o);else{var s=i,u=i;for(r.push(i);(s>=1||u<=a)&&r.length<t&&(s>1&&(s--,r.push(s)),r.length<t);)u!=a&&(u++,r.push(u));r.sort(function(e,t){return e-t})}return r};f.getTotalPages=function(){return l},f.getCurrentPageNumber=function(){return o},f.drawPage=function(e){e>0&&p(e)},f.goToPage=f.drawPage,f.goToNextPage=function(){var e=o+1;return f.drawPage(o+1),d()?o:e},f.goToPrevPage=function(){var e=o-1;return f.drawPage(e),c()?o:e},f.isFirstPage=function(){return c()},f.isLastPage=function(){return d()},f.destroy=function(){f.$el.data("paging_set",null).find("ul.pager").remove(),i.html(r)},(n=e.extend({},e.paging.defaultOptions,n)).onBeforeInit(f,e(t)),f.$el=e(t),o=1,i=f.$el.children().first(),r=i.children(),s=r.length,l=Math.ceil(s/n.number_of_items),u=n.stealth_mode,i.css("visibility","hidden"),n.onAfterInit(f,e(t)),p(),v(f.$el)},e.paging.defaultOptions={number_of_items:5,pagination_type:"full_numbers",number_of_page_buttons:3,stealth_mode:!1,animate:!0,onBeforeEveryDraw:function(){},onAfterEveryDraw:function(){},onBeforeInit:function(){},onAfterInit:function(){},onFirstPage:function(){},onLastPage:function(){},theme:"light_connected"},e.fn.paging=function(t){return this.each(function(n,a){null==e(a).data("paging_js")&&e(a).data("paging_js",new e.paging(a,t,n))})}}(jQuery);